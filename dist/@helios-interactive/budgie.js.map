{"version":3,"sources":["budgie.concat.js"],"names":["Budgie","items","selector","options","Object","assign","constructor","defaultOptions","isNew","budgieId","Math","floor","random","self","pop","a","Array","prototype","apply","arguments","popItem","push","pushItem","shift","shiftItem","unshift","unshiftItem","splice","updateAllElements","start","parentContainer","getElement","classList","add","budgieFlexContainer","document","createElement","appendChild","setCSS","container","scrollSize","scrollSizeMeasurement","scrollDirection","scrollProperty","inverted","addEventListener","onScroll","numberAcross","direction","numberHigh","numberWide","length","eleWidth","parseInt","window","getComputedStyle","width","numOfSheets","styleSheets","cssRules","height","insertRule","imageFit","i","forEach","item","id","numberLeftWithOddEnding","newFillerItem","createElementForItem","elementsOnScreen","blankEle","filler","realElements","from","getElementsByClassName","slice","element","ele","cloneNode","insertAdjacentElement","elementsToDupe","addLastItem","updateListEnding","removeLastItem","updateExistingItems","elementCount","querySelectorAll","eleIndex","elements","parentNode","removeChild","itemIndex","newElement","insertBefore","nextSibling","index","style","backgroundImage","method","redraw","operator","Error","lastElement","firstElement","remove","appendExtraItems","measure","parseFloat","elementMeasurement","ceil","scrollContainerSize","console","log","fps","scrollContainer","parentElement","currentScroll","viewMeasure","scrollSpeed","secondsOnPage","stop","interval","setInterval","setupContainer","insertItems","bindScrollListener","autoScroll","startAnimation","clearInterval","splitSelector","substring","getElementById","e","global"],"mappings":"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","file":"budgie.js","sourcesContent":["'use strict';\r\nclass Budgie {\r\n\r\n  /**\r\n   *\r\n   * @param items\r\n   * @param selector\r\n   * @param options\r\n   */\r\n  constructor(items, selector, options = {}) {\r\n\r\n    this.selector = selector;\r\n    this.options = Object.assign(this.constructor.defaultOptions(), options);\r\n\r\n    this.isNew = true;\r\n    this.budgieId = Math.floor((1 + Math.random()) * 0x10000);\r\n    this.items = items;\r\n\r\n    var self = this;\r\n    this.items.pop = function(){\r\n      let a = Array.prototype.pop.apply(self.items, arguments);\r\n      self.popItem();\r\n      return a;\r\n    };\r\n    this.items.push = function(){\r\n      let a = Array.prototype.push.apply(self.items, arguments);\r\n      self.pushItem();\r\n      return a;\r\n    };\r\n    this.items.shift = function(){\r\n      let a = Array.prototype.shift.apply(self.items, arguments);\r\n      self.shiftItem();\r\n      return a;\r\n    };\r\n    this.items.unshift = function(){\r\n      let a = Array.prototype.unshift.apply(self.items, arguments);\r\n      self.unshiftItem();\r\n      return a;\r\n    };\r\n    this.items.splice = function(){\r\n      let a = Array.prototype.splice.apply(self.items, arguments);\r\n      self.updateAllElements();\r\n      return a;\r\n    };\r\n\r\n    this.start();\r\n  }\r\n\r\n  static defaultOptions() {\r\n    return {\r\n      'numberHigh': 1,\r\n      'numberWide': 1,\r\n      'noScrollIfNoOverflow': true,\r\n      'direction': 'vertical',\r\n      'secondsOnPage': 1.0,\r\n      'stopOnHover': false,\r\n      'inverted': false,\r\n      'autoScroll': true,\r\n      'userNavigation': false,\r\n      'imageFit': 'cover',\r\n      'fps': 60\r\n    };\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param selector either an id, class, or DOM element\r\n   * @returns {{}} returns the DOM element that matches the selector\r\n   */\r\n  static getElement(selector) {\r\n    // allow dom elements to get passed in directly\r\n    if(typeof selector === 'object' ) return selector;\r\n\r\n    let splitSelector = selector.substring(0, 1);\r\n    switch(splitSelector){\r\n      case '.':\r\n        return document.getElementsByClassName(selector.substring(1))[0];\r\n        break;\r\n      case '#':\r\n        return document.getElementById(selector.substring(1));\r\n        break;\r\n      default:\r\n        throw new Error(\"The selector must be a class or id, prepended by the identifier ('.'/'#')\");\r\n    }\r\n  }\r\n\r\n  setupContainer() {\r\n    let parentContainer = this.constructor.getElement(this.selector);\r\n    parentContainer.classList.add(`budgie-flex-container-parent-${this.budgieId}`);\r\n    this.parentContainer = parentContainer;\r\n\r\n    let budgieFlexContainer = document.createElement('div');\r\n    budgieFlexContainer.classList.add('budgie-flex-container');\r\n    budgieFlexContainer.classList.add(`budgie-container-${this.budgieId}`);\r\n    parentContainer.appendChild(budgieFlexContainer);\r\n    this.setCSS(budgieFlexContainer);\r\n\r\n    this.container = budgieFlexContainer;\r\n  }\r\n\r\n  bindScrollListener() {\r\n    let self = this;\r\n    let scrollSize = this.scrollSizeMeasurement();\r\n    let scrollDirection = this.scrollProperty();\r\n\r\n    if(this.options.inverted && this.isNew) {\r\n      this.parentContainer[scrollDirection] = scrollSize;\r\n    }\r\n\r\n    this.parentContainer.addEventListener(\"scroll\", function(){self.onScroll(scrollDirection)});\r\n  }\r\n\r\n  numberLeftWithOddEnding(){\r\n    let numberAcross = (this.options.direction === 'horizontal') ? this.options.numberHigh : this.options.numberWide;\r\n    return (this.items.length % numberAcross);\r\n  }\r\n\r\n  setCSS(container){\r\n    const eleWidth = parseInt(window.getComputedStyle(container).width);\r\n    let numOfSheets = 0;\r\n    if(document.styleSheets[0].cssRules) {\r\n      numOfSheets = document.styleSheets[0].cssRules.length;\r\n    }\r\n\r\n    const numberAcross = (this.options.direction === 'horizontal') ? this.options.numberHigh : this.options.numberWide;\r\n\r\n    // Width in %\r\n    const width = ((eleWidth / this.options.numberWide / eleWidth) * 100);\r\n    const height = (100 / this.options.numberHigh);\r\n\r\n    document.styleSheets[0].insertRule(`.budgie-flex-item-${this.budgieId}{width: ${width}%; height: ${height}%;}`, numOfSheets);\r\n    document.styleSheets[0].insertRule(`.budgie-flex-item-image-${this.budgieId}{background-size: ${this.options.imageFit};}`, numOfSheets);\r\n\r\n    for(let i = numberAcross - 1; i >= 0; i--){\r\n      document.styleSheets[0].insertRule(`.budgie-flex-item-${this.budgieId}--filler-${i}{width: ${width*(numberAcross - i)/2}%; height: ${height*(numberAcross - i)/2}%; flex-grow: 1;}`, numOfSheets);\r\n    }\r\n\r\n    let direction = this.options.direction === 'horizontal' ? 'column' : 'row';\r\n    document.styleSheets[0].insertRule(`.budgie-container-${this.budgieId}{flex-direction: ${direction};}`, numOfSheets);\r\n\r\n    document.styleSheets[0].insertRule(`.budgie-flex-container-parent-${this.budgieId}{overflow-x: ${this.options.direction === 'horizontal' ? 'scroll' : 'hidden'}; overflow-y: ${this.options.direction === 'vertical' ? 'scroll' : 'hidden'}}`, numOfSheets);\r\n    document.styleSheets[0].insertRule(`.budgie-flex-container-parent-${this.budgieId}::-webkit-scrollbar{display: none;}`, numOfSheets);\r\n  }\r\n\r\n  static createElementForItem(item, id, budgieId){\r\n    let e = document.createElement('div');\r\n\r\n    if(typeof item === 'string') {\r\n      e.style.backgroundImage = `url(${item})`;\r\n    } else {\r\n      e.appendChild(item);\r\n    }\r\n    e.classList.add(`budgie-flex-item-${budgieId}`);\r\n    e.classList.add(`budgie-flex-item-image-${budgieId}`);\r\n    e.classList.add(`budgie-${budgieId}-${id}`);\r\n    return e;\r\n  }\r\n\r\n  insertItems(){\r\n    this.items.forEach((item, id) => {\r\n      // Add a filler item so that odd ending lists will have a centered ending\r\n      if(this.numberLeftWithOddEnding() > 0 && (this.items.length - this.numberLeftWithOddEnding() === id)){\r\n        this.container.appendChild(this.newFillerItem());\r\n      }\r\n\r\n      // Add the item\r\n      this.container.appendChild(this.constructor.createElementForItem(item, id, this.budgieId));\r\n\r\n      // Add a filler item so that odd ending lists will have a centered ending\r\n      if(this.numberLeftWithOddEnding() > 0 && (this.items.length === id + 1)){\r\n        this.container.appendChild(this.newFillerItem());\r\n      }\r\n    });\r\n    if(this.items.length < this.elementsOnScreen()){\r\n      // Append an extra div so that new items can be added\r\n      let blankEle = document.createElement('div');\r\n      blankEle.classList.add(`budgie-flex-item-${this.budgieId}--blank`);\r\n      this.container.appendChild(blankEle);\r\n    }\r\n  }\r\n\r\n\r\n  newFillerItem(){\r\n    let filler = document.createElement('div');\r\n    filler.classList.add(`budgie-flex-item-${this.budgieId}--filler`);\r\n    filler.classList.add(`budgie-flex-item-${this.budgieId}--filler-${this.numberLeftWithOddEnding()}`);\r\n    return filler;\r\n  }\r\n\r\n  /**\r\n   * Appends duplicate items equal to the number that fit in the view (numberHigh * numberWide)\r\n   * Prepends duplicate items equal to the last row/column of items\r\n   */\r\n  appendExtraItems(){\r\n    let elementsOnScreen = this.elementsOnScreen();\r\n    // Store a list of the non duplicated elements\r\n    const realElements = Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}`));\r\n\r\n    // If the number of elements is greater than the number that fit in the given area\r\n    if(this.items.length > elementsOnScreen){\r\n      // Appends duplicate items equal to the number of elementsOnScreen\r\n      realElements.slice(\r\n        0,\r\n        elementsOnScreen\r\n      )\r\n        .forEach((element) => {\r\n          let ele = element.cloneNode(true);\r\n          ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate`);\r\n          this.container.insertAdjacentElement('beforeend', ele);\r\n        });\r\n\r\n      // Prepends duplicate items equal to the number of elementsOnScreen\r\n      if(this.numberLeftWithOddEnding() > 0) {\r\n        // The column or row is NOT full, fillers are needed\r\n        // Add a filler item so that odd ending lists will have a centered ending\r\n        this.container.insertAdjacentElement('afterbegin', this.newFillerItem());\r\n\r\n        // Add the duplicated elements\r\n        realElements.slice(\r\n          realElements.length - this.numberLeftWithOddEnding(),\r\n          realElements.length\r\n        )\r\n          .forEach((element) => {\r\n            let ele = element.cloneNode(true);\r\n            ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate`);\r\n            this.container.insertAdjacentElement('afterbegin', ele);\r\n          });\r\n\r\n        // Add a filler item so that odd ending lists will have a centered ending\r\n        this.container.insertAdjacentElement('afterbegin', this.newFillerItem());\r\n      } else {\r\n        // The column or row is full, not fillers needed\r\n        let elementsToDupe = this.options.direction === 'horizontal' ? this.options.numberHigh : this.options.numberWide;\r\n\r\n        // Add the duplicated elements\r\n        realElements.slice(\r\n          realElements.length - elementsToDupe,\r\n          realElements.length\r\n        )\r\n          .forEach((element) => {\r\n            let ele = element.cloneNode(true);\r\n            ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate`);\r\n            this.container.insertAdjacentElement('afterbegin', ele);\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  elementsOnScreen(){\r\n    return parseInt(this.options.numberHigh) * parseInt(this.options.numberWide);\r\n  }\r\n\r\n  pushItem(){\r\n    this.addLastItem();\r\n    this.updateListEnding('add');\r\n    this.start();\r\n  }\r\n\r\n  popItem(){\r\n    this.removeLastItem();\r\n    this.updateListEnding('remove');\r\n    this.start();\r\n  }\r\n\r\n  shiftItem(){\r\n    this.updateExistingItems()\r\n    this.removeLastItem();\r\n    this.updateListEnding('remove');\r\n    this.start();\r\n  }\r\n\r\n  unshiftItem(){\r\n    this.updateExistingItems()\r\n    this.addLastItem();\r\n    this.updateListEnding('add');\r\n    this.start();\r\n  }\r\n\r\n  updateAllElements(){\r\n    let elementCount = document.querySelectorAll(`.budgie-flex-item-${this.budgieId}:not(.budgie-flex-item-${this.budgieId}--duplicate)`).length\r\n    if(this.items.length > elementCount){\r\n      for(let i = elementCount; i < this.items.length; i++){\r\n        this.addLastItem(i, i - 1);\r\n      }\r\n      this.updateListEnding('add', true);\r\n    } else if (this.items.length < elementCount) {\r\n      for(let i = elementCount; i > this.items.length; i--){\r\n        this.removeLastItem(i-1);\r\n      }\r\n      this.updateListEnding('remove', true);\r\n    }\r\n    this.updateExistingItems()\r\n    this.start();\r\n  }\r\n\r\n  removeLastItem(eleIndex = this.items.length){\r\n    let elements = document.getElementsByClassName(`budgie-${this.budgieId}-${eleIndex}`);\r\n    elements[0].parentNode.removeChild(elements[0]);\r\n  }\r\n\r\n  addLastItem(itemIndex = this.items.length - 1, eleIndex = this.items.length - 2){\r\n    // eleIndex; subtract 2 to account for using length not index, and also to get the last element before the push\r\n    let elements = document.getElementsByClassName(`budgie-${this.budgieId}-${eleIndex}`);\r\n    let newElement = this.constructor.createElementForItem(this.items[itemIndex], itemIndex, this.budgieId);\r\n    elements[0].parentNode.insertBefore(newElement, elements[0].nextSibling);\r\n  }\r\n\r\n  updateExistingItems(){\r\n    this.items.forEach((item, index) => {\r\n      Array.from(document.getElementsByClassName(`budgie-${this.budgieId}-${index}`)).forEach(element =>\r\n        element.style.backgroundImage = `url(${item})`);\r\n    });\r\n  }\r\n\r\n  updateListEnding(method, redraw=false){\r\n    let operator;\r\n    if(method === 'remove'){\r\n      operator = 1\r\n    } else if(method === 'add'){\r\n      // this covers 'add'\r\n      operator = -1\r\n    } else {\r\n      throw new Error(\"Only 'add' and 'remove' are supported arguments\")\r\n    }\r\n\r\n    if(redraw)\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`)).forEach(element =>\r\n        element.parentNode.removeChild(element));\r\n\r\n    if(this.numberLeftWithOddEnding() > 0){\r\n      if(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`).length === 0) {\r\n        let lastElement = document.getElementsByClassName(`budgie-${this.budgieId}-${this.items.length - 1}`)[0];\r\n        let firstElement = document.getElementsByClassName(`budgie-${this.budgieId}-${this.items.length - this.numberLeftWithOddEnding()}`)[0];\r\n        firstElement.parentNode.insertBefore(this.newFillerItem(), firstElement);\r\n        lastElement.parentNode.insertBefore(this.newFillerItem(), lastElement.nextSibling);\r\n      } else {\r\n        Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`)).forEach((element) => {\r\n          element.classList.remove(`budgie-flex-item-${this.budgieId}--filler-${this.numberLeftWithOddEnding() + operator}`);\r\n          element.classList.add(`budgie-flex-item-${this.budgieId}--filler-${this.numberLeftWithOddEnding()}`);\r\n        });\r\n      }\r\n    } else {\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`)).forEach(element =>\r\n        element.parentNode.removeChild(element));\r\n    }\r\n\r\n    if(this.items.length <= this.elementsOnScreen()) {\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--duplicate`)).forEach(element =>\r\n        element.parentNode.removeChild(element));\r\n\r\n      // Append an extra div so that new items can be added\r\n      if(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--blank`).length === 0){\r\n        let blankEle = document.createElement('div');\r\n        blankEle.classList.add(`budgie-flex-item-${this.budgieId}--blank`);\r\n        this.container.appendChild(blankEle);\r\n      }\r\n    }\r\n\r\n    if(this.items.length > this.elementsOnScreen() && document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--duplicate`).length === 0){\r\n      this.appendExtraItems();\r\n\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--blank`)).forEach(blankEle =>\r\n        blankEle.parentNode.removeChild(blankEle));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the height and width measurements of the elements associated with the given selector\r\n   * @param selector\r\n   * @returns {{}} The height and width measurements of the element associated with the given selector.\r\n   */\r\n  elementMeasurement(selector){\r\n    let measure = {};\r\n    measure.height = parseFloat(window.getComputedStyle(document.getElementsByClassName(selector)[0]).height);\r\n    measure.width = parseFloat(window.getComputedStyle(document.getElementsByClassName(selector)[0]).width);\r\n    return measure;\r\n  }\r\n\r\n  /**\r\n   * Returns the size of the scroll container for this budgie instance\r\n   * @returns {number} Measurement in px.\r\n   */\r\n  scrollSizeMeasurement(){\r\n    switch(this.options.direction){\r\n      case 'vertical':\r\n        return this.elementMeasurement(`budgie-flex-item-${this.budgieId}`).height * (Math.ceil(this.items.length/this.options.numberWide));\r\n        break;\r\n      case 'horizontal':\r\n        return this.elementMeasurement(`budgie-flex-item-${this.budgieId}`).width * (Math.ceil(this.items.length/this.options.numberHigh));\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n  * Will reset the budgie elements scrollProperty if it hits a wrap point.\r\n  * @param {string} scrollDirection - The scroll direction of the given budgie instance.\r\n  *   can be 'scrollTop' or 'scrollLeft'\r\n  * @returns undefined\r\n  * */\r\n  onScroll(scrollDirection) {\r\n    let scrollContainerSize = this.scrollSizeMeasurement();\r\n\r\n    console.log('On Scroll', this.parentContainer[scrollDirection], scrollContainerSize)\r\n    if((this.parentContainer[scrollDirection] >= scrollContainerSize)) {\r\n      this.parentContainer[scrollDirection] = 0;\r\n    } else if((this.parentContainer[scrollDirection] <= 0 )) {\r\n      this.parentContainer[scrollDirection] = scrollContainerSize;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Will return the scroll property ('scrollTop' or 'scrollLeft') of the budgie instance\r\n   * @returns {String} The scroll property ('scrollTop' or 'scrollLeft') of the budgie instance\r\n   */\r\n  scrollProperty() {\r\n    if (this.options.direction === 'vertical') {\r\n      return 'scrollTop';\r\n    } else if (this.options.direction === 'horizontal') {\r\n      return 'scrollLeft';\r\n    }\r\n  }\r\n\r\n  startAnimation() {\r\n\r\n    const fps =  this.options.fps;\r\n\r\n    let scrollDirection = this.scrollProperty();\r\n\r\n    let scrollContainer = this.container.parentElement;\r\n    let currentScroll;\r\n\r\n    let measure = this.elementMeasurement(`budgie-container-${this.budgieId}`);\r\n    let viewMeasure = (this.options.direction === \"horizontal\") ? measure.width : measure.height;\r\n    let scrollSpeed = (viewMeasure / this.options.secondsOnPage / fps);\r\n\r\n    // always clear interval to ensure that only one scroller is running\r\n    this.stop();\r\n    if(this.items.length > this.elementsOnScreen()){\r\n      this.interval = setInterval(() => {\r\n        let scrollDirection = this.scrollProperty()\r\n\r\n        currentScroll = scrollContainer[scrollDirection];\r\n\r\n        this.options.inverted ? (currentScroll -= scrollSpeed) : (currentScroll += scrollSpeed);\r\n\r\n        scrollContainer[scrollDirection] = currentScroll;\r\n      }, 1000/fps);\r\n    } else {\r\n      scrollContainer[scrollDirection] = 0;\r\n    }\r\n  }\r\n\r\n  //////////////\r\n  // Public methods for using the scroller\r\n  //////////////\r\n  // start the infinite scroll\r\n  start() {\r\n    if(this.isNew){\r\n      this.setupContainer();\r\n      this.insertItems();\r\n      this.appendExtraItems();\r\n      this.bindScrollListener();\r\n    }\r\n    if(this.options.autoScroll){\r\n      this.startAnimation();\r\n    }\r\n    this.isNew = false;\r\n  }\r\n\r\n  // stop the infinite scroll\r\n  stop() {\r\n    if(!this.interval) return false;\r\n    window.clearInterval(this.interval);\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  remove() {\r\n    this.stop();\r\n    this.container.parentElement.classList.remove(`budgie-flex-container-parent-${this.budgieId}`);\r\n    this.container.parentElement.removeChild(this.container);\r\n  }\r\n\r\n  /*\r\n  * Changes the inversion of the budgie instance.\r\n  * */\r\n  changeInversion(){\r\n    this.options.inverted = !this.options.inverted;\r\n  }\r\n}\r\n\r\nif( typeof global !== 'undefined')\r\n  global.Budgie = Budgie;\r\n"]}