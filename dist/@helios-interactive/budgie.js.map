{"version":3,"sources":["budgie.concat.js"],"names":["Budgie","items","selector","options","Object","assign","constructor","defaultOptions","isNew","budgieId","Math","floor","random","self","pop","a","Array","prototype","apply","arguments","popItem","push","pushItem","shift","shiftItem","unshift","unshiftItem","splice","updateAllElements","start","parentContainer","getElement","classList","add","budgieFlexContainer","document","createElement","appendChild","setCSS","container","scrollDirection","scrollProperty","budgieElement","elementMeasurement","budgieElementMeasure","direction","width","height","addEventListener","onScroll","numberAcross","numberHigh","numberWide","length","eleWidth","parseInt","window","getComputedStyle","numOfSheets","styleSheets","cssRules","insertRule","imageFit","i","forEach","item","id","numberLeftWithOddEnding","newFillerItem","createElementForItem","elementsOnScreen","blankEle","filler","realElements","from","getElementsByClassName","slice","element","ele","cloneNode","insertAdjacentElement","reverse","elementsToDupe","addLastItem","updateListEnding","removeLastItem","updateExistingItems","elementCount","querySelectorAll","eleIndex","elements","parentNode","removeChild","itemIndex","newElement","insertBefore","nextSibling","index","style","backgroundImage","method","redraw","operator","Error","lastElement","firstElement","remove","appendExtraItems","measure","parseFloat","ceil","scrollContainerSize","scrollSizeMeasurement","console","log","fps","scrollContainer","parentElement","currentScroll","viewMeasure","scrollSpeed","secondsOnPage","stop","interval","setInterval","inverted","setupContainer","insertItems","setupScrollProperties","autoScroll","startAnimation","clearInterval","splitSelector","substring","getElementById","e","global"],"mappings":"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","file":"budgie.js","sourcesContent":["'use strict';\r\nclass Budgie {\r\n\r\n  /**\r\n   *\r\n   * @param items\r\n   * @param selector\r\n   * @param options\r\n   */\r\n  constructor(items, selector, options = {}) {\r\n\r\n    this.selector = selector;\r\n    this.options = Object.assign(this.constructor.defaultOptions(), options);\r\n\r\n    this.isNew = true;\r\n    this.budgieId = Math.floor((1 + Math.random()) * 0x10000);\r\n    this.items = items;\r\n\r\n    var self = this;\r\n    this.items.pop = function(){\r\n      let a = Array.prototype.pop.apply(self.items, arguments);\r\n      self.popItem();\r\n      return a;\r\n    };\r\n    this.items.push = function(){\r\n      let a = Array.prototype.push.apply(self.items, arguments);\r\n      self.pushItem();\r\n      return a;\r\n    };\r\n    this.items.shift = function(){\r\n      let a = Array.prototype.shift.apply(self.items, arguments);\r\n      self.shiftItem();\r\n      return a;\r\n    };\r\n    this.items.unshift = function(){\r\n      let a = Array.prototype.unshift.apply(self.items, arguments);\r\n      self.unshiftItem();\r\n      return a;\r\n    };\r\n    this.items.splice = function(){\r\n      let a = Array.prototype.splice.apply(self.items, arguments);\r\n      self.updateAllElements();\r\n      return a;\r\n    };\r\n\r\n    this.start();\r\n  }\r\n\r\n  static defaultOptions() {\r\n    return {\r\n      'numberHigh': 1,\r\n      'numberWide': 1,\r\n      'noScrollIfNoOverflow': true,\r\n      'direction': 'vertical',\r\n      'secondsOnPage': 1.0,\r\n      'stopOnHover': false,\r\n      'inverted': false,\r\n      'autoScroll': true,\r\n      'userNavigation': false,\r\n      'imageFit': 'cover',\r\n      'fps': 60\r\n    };\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param selector either an id, class, or DOM element\r\n   * @returns {{}} returns the DOM element that matches the selector\r\n   */\r\n  static getElement(selector) {\r\n    // allow dom elements to get passed in directly\r\n    if(typeof selector === 'object' ) return selector;\r\n\r\n    let splitSelector = selector.substring(0, 1);\r\n    switch(splitSelector){\r\n      case '.':\r\n        return document.getElementsByClassName(selector.substring(1))[0];\r\n        break;\r\n      case '#':\r\n        return document.getElementById(selector.substring(1));\r\n        break;\r\n      default:\r\n        throw new Error(\"The selector must be a class or id, prepended by the identifier ('.'/'#')\");\r\n    }\r\n  }\r\n\r\n  setupContainer() {\r\n    let parentContainer = this.constructor.getElement(this.selector);\r\n    parentContainer.classList.add(`budgie-flex-container-parent-${this.budgieId}`);\r\n    this.parentContainer = parentContainer;\r\n\r\n    let budgieFlexContainer = document.createElement('div');\r\n    budgieFlexContainer.classList.add('budgie-flex-container');\r\n    budgieFlexContainer.classList.add(`budgie-container-${this.budgieId}`);\r\n    parentContainer.appendChild(budgieFlexContainer);\r\n    this.setCSS(budgieFlexContainer);\r\n\r\n    this.container = budgieFlexContainer;\r\n  }\r\n\r\n  setupScrollProperties() {\r\n    let self = this;\r\n    let scrollDirection = this.scrollProperty();\r\n\r\n    if(this.isNew) {\r\n      let budgieElement = this.elementMeasurement(`budgie-flex-item-${this.budgieId}`)\r\n      let budgieElementMeasure = this.options.direction === 'horizontal' ? budgieElement.width : budgieElement.height\r\n\r\n      // Set the scroll position to the top of the non-duped elements\r\n      this.parentContainer[scrollDirection] = budgieElementMeasure;\r\n    }\r\n\r\n    this.parentContainer.addEventListener(\"scroll\", function(){self.onScroll(scrollDirection)});\r\n  }\r\n\r\n  numberLeftWithOddEnding(){\r\n    let numberAcross = (this.options.direction === 'horizontal') ? this.options.numberHigh : this.options.numberWide;\r\n    return (this.items.length % numberAcross);\r\n  }\r\n\r\n  setCSS(container){\r\n    const eleWidth = parseInt(window.getComputedStyle(container).width);\r\n    let numOfSheets = 0;\r\n    if(document.styleSheets[0].cssRules) {\r\n      numOfSheets = document.styleSheets[0].cssRules.length;\r\n    }\r\n\r\n    const numberAcross = (this.options.direction === 'horizontal') ? this.options.numberHigh : this.options.numberWide;\r\n\r\n    // Width in %\r\n    const width = ((eleWidth / this.options.numberWide / eleWidth) * 100);\r\n    const height = (100 / this.options.numberHigh);\r\n\r\n    document.styleSheets[0].insertRule(`.budgie-flex-item-${this.budgieId}{width: ${width}%; height: ${height}%;}`, numOfSheets);\r\n    document.styleSheets[0].insertRule(`.budgie-flex-item-image-${this.budgieId}{background-size: ${this.options.imageFit};}`, numOfSheets);\r\n\r\n    for(let i = numberAcross - 1; i >= 0; i--){\r\n      document.styleSheets[0].insertRule(`.budgie-flex-item-${this.budgieId}--filler-${i}{width: ${width*(numberAcross - i)/2}%; height: ${height*(numberAcross - i)/2}%; flex-grow: 1;}`, numOfSheets);\r\n    }\r\n\r\n    let direction = this.options.direction === 'horizontal' ? 'column' : 'row';\r\n    document.styleSheets[0].insertRule(`.budgie-container-${this.budgieId}{flex-direction: ${direction};}`, numOfSheets);\r\n\r\n    document.styleSheets[0].insertRule(`.budgie-flex-container-parent-${this.budgieId}{overflow-x: ${this.options.direction === 'horizontal' ? 'scroll' : 'hidden'}; overflow-y: ${this.options.direction === 'vertical' ? 'scroll' : 'hidden'}}`, numOfSheets);\r\n    document.styleSheets[0].insertRule(`.budgie-flex-container-parent-${this.budgieId}::-webkit-scrollbar{display: none;}`, numOfSheets);\r\n  }\r\n\r\n  static createElementForItem(item, id, budgieId){\r\n    let e = document.createElement('div');\r\n\r\n    if(typeof item === 'string') {\r\n      e.style.backgroundImage = `url(${item})`;\r\n    } else {\r\n      e.appendChild(item);\r\n    }\r\n    e.classList.add(`budgie-flex-item-${budgieId}`);\r\n    e.classList.add(`budgie-flex-item-image-${budgieId}`);\r\n    e.classList.add(`budgie-${budgieId}-${id}`);\r\n    return e;\r\n  }\r\n\r\n  insertItems(){\r\n    this.items.forEach((item, id) => {\r\n      // Add a filler item so that odd ending lists will have a centered ending\r\n      if(this.numberLeftWithOddEnding() > 0 && (this.items.length - this.numberLeftWithOddEnding() === id)){\r\n        this.container.appendChild(this.newFillerItem());\r\n      }\r\n\r\n      // Add the item\r\n      this.container.appendChild(this.constructor.createElementForItem(item, id, this.budgieId));\r\n\r\n      // Add a filler item so that odd ending lists will have a centered ending\r\n      if(this.numberLeftWithOddEnding() > 0 && (this.items.length === id + 1)){\r\n        this.container.appendChild(this.newFillerItem());\r\n      }\r\n    });\r\n    if(this.items.length < this.elementsOnScreen()){\r\n      // Append an extra div so that new items can be added\r\n      let blankEle = document.createElement('div');\r\n      blankEle.classList.add(`budgie-flex-item-${this.budgieId}--blank`);\r\n      this.container.appendChild(blankEle);\r\n    }\r\n  }\r\n\r\n\r\n  newFillerItem(){\r\n    let filler = document.createElement('div');\r\n    filler.classList.add(`budgie-flex-item-${this.budgieId}--filler`);\r\n    filler.classList.add(`budgie-flex-item-${this.budgieId}--filler-${this.numberLeftWithOddEnding()}`);\r\n    return filler;\r\n  }\r\n\r\n  /**\r\n   * Appends duplicate items equal to the number that fit in the view (numberHigh * numberWide)\r\n   * Prepends duplicate items equal to the last row/column of items\r\n   */\r\n  appendExtraItems(){\r\n    let elementsOnScreen = this.elementsOnScreen();\r\n    // Store a list of the non duplicated elements\r\n    const realElements = Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}`));\r\n\r\n    // If the number of elements is greater than the number that fit in the given area\r\n    if(this.items.length > elementsOnScreen){\r\n      // Appends duplicate items equal to the number of elementsOnScreen\r\n      realElements.slice(\r\n        0,\r\n        elementsOnScreen\r\n      )\r\n        .forEach((element) => {\r\n          let ele = element.cloneNode(true);\r\n          ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate`);\r\n          this.container.insertAdjacentElement('beforeend', ele);\r\n        });\r\n\r\n      // Prepends duplicate items equal to the number of elementsOnScreen\r\n      if(this.numberLeftWithOddEnding() > 0) {\r\n        // The column or row is NOT full, fillers are needed\r\n        // Add a filler item so that odd ending lists will have a centered ending\r\n        this.container.insertAdjacentElement('afterbegin', this.newFillerItem());\r\n\r\n        // Add the duplicated elements\r\n        realElements.slice(\r\n          realElements.length - this.numberLeftWithOddEnding(),\r\n          realElements.length\r\n        )\r\n          .reverse()\r\n          .forEach((element) => {\r\n            let ele = element.cloneNode(true);\r\n            ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate`);\r\n            this.container.insertAdjacentElement('afterbegin', ele);\r\n          });\r\n\r\n        // Add a filler item so that odd ending lists will have a centered ending\r\n        this.container.insertAdjacentElement('afterbegin', this.newFillerItem());\r\n      } else {\r\n        // The column or row is full, not fillers needed\r\n        let elementsToDupe = this.options.direction === 'horizontal' ? this.options.numberHigh : this.options.numberWide;\r\n\r\n        // Add the duplicated elements\r\n        realElements.slice(\r\n          realElements.length - elementsToDupe,\r\n          realElements.length\r\n        )\r\n          .reverse()\r\n          .forEach((element) => {\r\n            let ele = element.cloneNode(true);\r\n            ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate`);\r\n            this.container.insertAdjacentElement('afterbegin', ele);\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  elementsOnScreen(){\r\n    return parseInt(this.options.numberHigh) * parseInt(this.options.numberWide);\r\n  }\r\n\r\n  pushItem(){\r\n    this.addLastItem();\r\n    this.updateListEnding('add');\r\n    this.start();\r\n  }\r\n\r\n  popItem(){\r\n    this.removeLastItem();\r\n    this.updateListEnding('remove');\r\n    this.start();\r\n  }\r\n\r\n  shiftItem(){\r\n    this.updateExistingItems()\r\n    this.removeLastItem();\r\n    this.updateListEnding('remove');\r\n    this.start();\r\n  }\r\n\r\n  unshiftItem(){\r\n    this.updateExistingItems()\r\n    this.addLastItem();\r\n    this.updateListEnding('add');\r\n    this.start();\r\n  }\r\n\r\n  updateAllElements(){\r\n    let elementCount = document.querySelectorAll(`.budgie-flex-item-${this.budgieId}:not(.budgie-flex-item-${this.budgieId}--duplicate)`).length\r\n    if(this.items.length > elementCount){\r\n      for(let i = elementCount; i < this.items.length; i++){\r\n        this.addLastItem(i, i - 1);\r\n      }\r\n      this.updateListEnding('add', true);\r\n    } else if (this.items.length < elementCount) {\r\n      for(let i = elementCount; i > this.items.length; i--){\r\n        this.removeLastItem(i-1);\r\n      }\r\n      this.updateListEnding('remove', true);\r\n    }\r\n    this.updateExistingItems()\r\n    this.start();\r\n  }\r\n\r\n  removeLastItem(eleIndex = this.items.length){\r\n    let elements = document.getElementsByClassName(`budgie-${this.budgieId}-${eleIndex}`);\r\n    elements[0].parentNode.removeChild(elements[0]);\r\n  }\r\n\r\n  addLastItem(itemIndex = this.items.length - 1, eleIndex = this.items.length - 2){\r\n    // eleIndex; subtract 2 to account for using length not index, and also to get the last element before the push\r\n    let elements = document.getElementsByClassName(`budgie-${this.budgieId}-${eleIndex}`);\r\n    let newElement = this.constructor.createElementForItem(this.items[itemIndex], itemIndex, this.budgieId);\r\n    elements[0].parentNode.insertBefore(newElement, elements[0].nextSibling);\r\n  }\r\n\r\n  updateExistingItems(){\r\n    this.items.forEach((item, index) => {\r\n      Array.from(document.getElementsByClassName(`budgie-${this.budgieId}-${index}`)).forEach(element =>\r\n        element.style.backgroundImage = `url(${item})`);\r\n    });\r\n  }\r\n\r\n  updateListEnding(method, redraw=false){\r\n    let operator;\r\n    if(method === 'remove'){\r\n      operator = 1\r\n    } else if(method === 'add'){\r\n      // this covers 'add'\r\n      operator = -1\r\n    } else {\r\n      throw new Error(\"Only 'add' and 'remove' are supported arguments\")\r\n    }\r\n\r\n    if(redraw)\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`)).forEach(element =>\r\n        element.parentNode.removeChild(element));\r\n\r\n    if(this.numberLeftWithOddEnding() > 0){\r\n      if(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`).length === 0) {\r\n        let lastElement = document.getElementsByClassName(`budgie-${this.budgieId}-${this.items.length - 1}`)[0];\r\n        let firstElement = document.getElementsByClassName(`budgie-${this.budgieId}-${this.items.length - this.numberLeftWithOddEnding()}`)[0];\r\n        firstElement.parentNode.insertBefore(this.newFillerItem(), firstElement);\r\n        lastElement.parentNode.insertBefore(this.newFillerItem(), lastElement.nextSibling);\r\n      } else {\r\n        Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`)).forEach((element) => {\r\n          element.classList.remove(`budgie-flex-item-${this.budgieId}--filler-${this.numberLeftWithOddEnding() + operator}`);\r\n          element.classList.add(`budgie-flex-item-${this.budgieId}--filler-${this.numberLeftWithOddEnding()}`);\r\n        });\r\n      }\r\n    } else {\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`)).forEach(element =>\r\n        element.parentNode.removeChild(element));\r\n    }\r\n\r\n    if(this.items.length <= this.elementsOnScreen()) {\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--duplicate`)).forEach(element =>\r\n        element.parentNode.removeChild(element));\r\n\r\n      // Append an extra div so that new items can be added\r\n      if(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--blank`).length === 0){\r\n        let blankEle = document.createElement('div');\r\n        blankEle.classList.add(`budgie-flex-item-${this.budgieId}--blank`);\r\n        this.container.appendChild(blankEle);\r\n      }\r\n    }\r\n\r\n    if(this.items.length > this.elementsOnScreen() && document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--duplicate`).length === 0){\r\n      this.appendExtraItems();\r\n\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--blank`)).forEach(blankEle =>\r\n        blankEle.parentNode.removeChild(blankEle));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the height and width measurements of the elements associated with the given selector\r\n   * @param selector\r\n   * @returns {{}} The height and width measurements of the element associated with the given selector.\r\n   */\r\n  elementMeasurement(selector){\r\n    let measure = {};\r\n    measure.height = parseFloat(window.getComputedStyle(document.getElementsByClassName(selector)[0]).height);\r\n    measure.width = parseFloat(window.getComputedStyle(document.getElementsByClassName(selector)[0]).width);\r\n    return measure;\r\n  }\r\n\r\n  /**\r\n   * Returns the size of the scroll container for this budgie instance\r\n   * @returns {number} Measurement in px.\r\n   */\r\n  scrollSizeMeasurement(){\r\n    switch(this.options.direction){\r\n      case 'vertical':\r\n        return this.elementMeasurement(`budgie-flex-item-${this.budgieId}`).height * (Math.ceil(this.items.length/this.options.numberWide));\r\n        break;\r\n      case 'horizontal':\r\n        return this.elementMeasurement(`budgie-flex-item-${this.budgieId}`).width * (Math.ceil(this.items.length/this.options.numberHigh));\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n  * Will reset the budgie elements scrollProperty if it hits a wrap point.\r\n  * @param {string} scrollDirection - The scroll direction of the given budgie instance.\r\n  *   can be 'scrollTop' or 'scrollLeft'\r\n  * @returns undefined\r\n  * */\r\n  onScroll(scrollDirection) {\r\n    let scrollContainerSize = this.scrollSizeMeasurement();\r\n\r\n    let budgieElement = this.elementMeasurement(`budgie-flex-item-${this.budgieId}`);\r\n    let budgieElementMeasure = Math.floor(this.options.direction === 'horizontal' ? budgieElement.width : budgieElement.height);\r\n\r\n    if((this.parentContainer[scrollDirection] >= scrollContainerSize + budgieElementMeasure)) {\r\n      this.parentContainer[scrollDirection] = budgieElementMeasure;\r\n    } else if((this.parentContainer[scrollDirection] <= 0 )) {\r\n      this.parentContainer[scrollDirection] = scrollContainerSize;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Will return the scroll property ('scrollTop' or 'scrollLeft') of the budgie instance\r\n   * @returns {String} The scroll property ('scrollTop' or 'scrollLeft') of the budgie instance\r\n   */\r\n  scrollProperty() {\r\n    if (this.options.direction === 'vertical') {\r\n      return 'scrollTop';\r\n    } else if (this.options.direction === 'horizontal') {\r\n      return 'scrollLeft';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Controls the scrolling animation when budgie is set to autoscroll\r\n   */\r\n  startAnimation() {\r\nconsole.log('starting')\r\n    const fps =  this.options.fps;\r\n\r\n    let scrollDirection = this.scrollProperty();\r\n\r\n    let scrollContainer = this.container.parentElement;\r\n    let currentScroll;\r\n\r\n    let measure = this.elementMeasurement(`budgie-container-${this.budgieId}`);\r\n    let viewMeasure = (this.options.direction === \"horizontal\") ? measure.width : measure.height;\r\n    // This needs to be a whole number, so always round up\r\n    let scrollSpeed = Math.ceil(viewMeasure / this.options.secondsOnPage / fps);\r\n\r\n    // always clear interval to ensure that only one scroller is running\r\n    this.stop();\r\n    if(this.items.length > this.elementsOnScreen()){\r\n      console.log('enough items')\r\n\r\n      this.interval = setInterval(() => {\r\n        let scrollDirection = this.scrollProperty()\r\n\r\n        currentScroll = scrollContainer[scrollDirection];\r\n\r\n        this.options.inverted ? (currentScroll += scrollSpeed) : (currentScroll -= scrollSpeed);\r\n        console.log('inside loop: ', scrollDirection, currentScroll, scrollSpeed)\r\n\r\n        scrollContainer[scrollDirection] = currentScroll;\r\n      }, 1000/fps);\r\n    } else {\r\n      scrollContainer[scrollDirection] = 0;\r\n    }\r\n  }\r\n\r\n  //////////////\r\n  // Public methods for using the scroller\r\n  //////////////\r\n  // start the infinite scroll\r\n  start() {\r\n    if(this.isNew){\r\n      this.setupContainer();\r\n      this.insertItems();\r\n      this.appendExtraItems();\r\n      this.setupScrollProperties();\r\n    }\r\n    if(this.options.autoScroll){\r\n      console.log('its autoscroll')\r\n      this.startAnimation();\r\n    }\r\n    this.isNew = false;\r\n  }\r\n\r\n  // stop the infinite scroll\r\n  stop() {\r\n    if(!this.interval) return false;\r\n    window.clearInterval(this.interval);\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  remove() {\r\n    this.stop();\r\n    this.container.parentElement.classList.remove(`budgie-flex-container-parent-${this.budgieId}`);\r\n    this.container.parentElement.removeChild(this.container);\r\n  }\r\n\r\n  /*\r\n  * Changes the inversion of the budgie instance.\r\n  * */\r\n  changeInversion(){\r\n    this.options.inverted = !this.options.inverted;\r\n  }\r\n}\r\n\r\nif( typeof global !== 'undefined')\r\n  global.Budgie = Budgie;\r\n"]}