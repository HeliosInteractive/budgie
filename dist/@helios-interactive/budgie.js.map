{"version":3,"sources":["budgie.concat.js"],"names":["styleBlock","document","createElement","innerHTML","head","appendChild","imageExtensions","videoExtensions","BudgieDom","Object","create","setupBudgieContainer","budgie","parentContainer","classList","add","budgieId","budgieFlexContainer","setupBudgieCSS","eleWidth","parseInt","window","getComputedStyle","budgieContainer","width","numOfSheets","styleSheets","cssRules","length","numberAcross","options","numberHigh","numberWide","height","insertRule","i","direction","setupBudgieScrollProperties","scrollProperty","budgieElement","measureElementWidthAndHeight","budgieElementMeasure","isHorizontal","addEventListener","onScroll","insertBudgieElements","items","forEach","item","id","hasOddEnding","numberLeftWithOddEnding","createBudgieFillerElement","createBudgieElement","fitsInContainer","blankEle","filler","itemIndex","element","innerDiv","convertItemToElement","outerHTML","Error","extension","match","substr","includes","src","selector","measure","elementComputedStyle","querySelector","parseFloat","Budgie","assign","constructor","defaultOptions","Math","floor","random","self","pop","a","Array","prototype","apply","arguments","popItem","push","pushItem","shift","shiftItem","unshift","unshiftItem","splice","updateAllElements","budgieSetup","autoStart","budgieAnimate","elementsOnScreen","budgieElementMeasurement","undefined","scrollContainerSize","isVertical","getElementsByClassName","ceil","addLastItem","updateBeginningAndEndingItems","clearMeasurements","removeLastItem","updateExistingItems","elementCount","querySelectorAll","realElements","from","insertAdjacentElement","slice","reverse","ele","cloneNode","elementsToDupe","eleIndex","elements","parentNode","removeChild","newElement","index","insertBefore","nextSibling","method","updateListStart","updateListEnding","numberAtTop","dupedElements","topOfDupedElements","lastRowOfRealElements","firstRealElement","numberOff","redraw","operator","lastElements","firstElements","lastElement","firstElement","remove","appendEndingItems","scrollDirection","scrollSizeMeasurement","infiniteScroll","prependStartingItems","autoScroll","fps","currentScroll","budgieContainerMeasurements","viewMeasure","scrollSpeed","secondsOnPage","stopAnimate","interval","setInterval","parentElement","inverted","clearInterval","global"],"mappings":"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","file":"budgie.js","sourcesContent":["'use strict';\r\n\r\nlet styleBlock = document.createElement('style');\r\n\r\nstyleBlock.innerHTML = `\r\n.budgie-flex-container, .budgie-flex-container--vertical, .budgie-flex-container--horizontal {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0;\r\n  margin: 0;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  justify-content: center; }\r\n\r\n.budgie-flex-item :first-child {\r\n  max-height: 100%;\r\n  max-width: 100%; }\r\n\r\n.budgie-flex-container-parent {\r\n  overflow: -moz-scrollbars-none; }\r\n  .budgie-flex-container-parent::-webkit-scrollbar {\r\n    display: none; }\r\n`;\r\n\r\ndocument.head.appendChild(styleBlock);;'use strict';\r\n\r\nconst imageExtensions = ['jpg', 'gif', 'png'];\r\nconst videoExtensions = ['mp4','ogg', 'webm'];\r\n/**\r\n * BudgieDomSetup\r\n * This class handles tasks that involve interacting with the DOM at setup\r\n */\r\nconst BudgieDom = Object.create({\r\n  /**\r\n   * Creates the container inside the passed in element that allows for scrolling\r\n   * @param budgie\r\n   * @returns {Element} returns the budgie container\r\n   */\r\n  setupBudgieContainer : (budgie) => {\r\n    budgie.parentContainer.classList.add(`budgie-flex-container-parent`);\r\n    budgie.parentContainer.classList.add(`budgie-flex-container-parent-${budgie.budgieId}`);\r\n\r\n    let budgieFlexContainer = document.createElement('div');\r\n    budgieFlexContainer.classList.add('budgie-flex-container');\r\n    budgieFlexContainer.classList.add(`budgie-container-${budgie.budgieId}`);\r\n    budgie.parentContainer.appendChild(budgieFlexContainer);\r\n\r\n    return budgieFlexContainer;\r\n  },\r\n\r\n  /**\r\n   * Create CSS classes for budgie items\r\n   * @param budgie\r\n   */\r\n  setupBudgieCSS : (budgie) => {\r\n    // Width of budgie container\r\n    const eleWidth = parseInt(window.getComputedStyle(budgie.budgieContainer).width);\r\n\r\n    let numOfSheets = 0;\r\n\r\n    // If there are already cssRules declared, then set the correct number of sheets to allow for addition\r\n    if(document.styleSheets[0].cssRules) {\r\n      numOfSheets = document.styleSheets[0].cssRules.length;\r\n    }\r\n\r\n    // Take the larger of the two as the number across\r\n    const numberAcross = budgie.options.numberHigh >= budgie.options.numberWide ?\r\n      budgie.options.numberHigh : budgie.options.numberWide;\r\n\r\n    // Width in %\r\n    const width = ((eleWidth / budgie.options.numberWide / eleWidth) * 100);\r\n    // Height in %\r\n    const height = (100 / budgie.options.numberHigh);\r\n\r\n    // Set the width and height of a single budgie element\r\n    document.styleSheets[0].insertRule(\r\n      `.budgie-flex-item-${budgie.budgieId}{width: ${width}%; height: ${height}%;}`, numOfSheets\r\n    );\r\n\r\n    // Create CSS rules for all possible configurations of filler elements\r\n    for(let i = numberAcross - 1; i >= 0; i--){\r\n      document.styleSheets[0].insertRule(\r\n        `.budgie-flex-item-${budgie.budgieId}--filler-${i}\r\n        {\r\n          width: ${width*(budgie.options.numberWide - i)/2}%; \r\n          height: ${height*(budgie.options.numberHigh - i)/2}%; flex-grow: 1;\r\n        }`,\r\n        numOfSheets\r\n      );\r\n    }\r\n\r\n    // Get the flex direction based on the budgie direction\r\n    let direction = budgie.options.direction === 'horizontal' ? 'column' : 'row';\r\n    // Set flex direction\r\n    document.styleSheets[0].insertRule(\r\n      `.budgie-container-${budgie.budgieId}{flex-direction: ${direction};}`,\r\n      numOfSheets\r\n    );\r\n\r\n    // Set the overflow properties based on the budgie direction\r\n    document.styleSheets[0].insertRule(\r\n      `.budgie-flex-container-parent-${budgie.budgieId}\r\n      {\r\n        overflow-x: ${budgie.options.direction === 'horizontal' ? 'scroll' : 'hidden'}; \r\n        overflow-y: ${budgie.options.direction === 'vertical' ? 'scroll' : 'hidden'}\r\n      }`,\r\n      numOfSheets\r\n    );\r\n  },\r\n\r\n  /**\r\n   * Sets the scroll properties based on the direction of budgie, and element size\r\n   * @param budgie\r\n   */\r\n  setupBudgieScrollProperties : (budgie) => {\r\n    // Get the scroll property (scrollTop or scrollLeft)\r\n    let scrollProperty = budgie.scrollProperty();\r\n\r\n    // Get a single budgie element's measure\r\n    let budgieElement = BudgieDom.measureElementWidthAndHeight(`.budgie-flex-item-${budgie.budgieId}`);\r\n\r\n    // Use width or height based on budgie direction\r\n    let budgieElementMeasure = budgie.isHorizontal() ? budgieElement.width : budgieElement.height;\r\n\r\n    // Set the scroll position to the top of the non-duped elements\r\n    budgie.parentContainer[scrollProperty] = budgieElementMeasure;\r\n\r\n    // Bind an event listener to the scroll event\r\n    budgie.parentContainer.addEventListener(\"scroll\", function(){budgie.onScroll(scrollProperty)});\r\n  },\r\n\r\n  /**\r\n   * Inserts the budgie elements. This should only be used during first setup\r\n   * @param budgie\r\n   */\r\n  insertBudgieElements : (budgie) => {\r\n    budgie.items.forEach((item, id) => {\r\n      // Add a filler item before the odd ending elements\r\n      // so that odd ending lists will have a centered ending\r\n      if(budgie.hasOddEnding() && (budgie.items.length - budgie.numberLeftWithOddEnding() === id)){\r\n        budgie.budgieContainer.appendChild(BudgieDom.createBudgieFillerElement(budgie));\r\n      }\r\n\r\n      // Add the item\r\n      budgie.budgieContainer.appendChild(BudgieDom.createBudgieElement(budgie, item, id));\r\n\r\n      // Add a filler item after the odd ending elements\r\n      // so that odd ending lists will have a centered ending\r\n      if(budgie.hasOddEnding() > 0 && (budgie.items.length === id + 1)){\r\n        budgie.budgieContainer.appendChild(BudgieDom.createBudgieFillerElement(budgie));\r\n      }\r\n    });\r\n\r\n    // If all the elements fit without scrolling, then add an extra div to allow for updates later\r\n    if(budgie.fitsInContainer()){\r\n      let blankEle = document.createElement('div');\r\n      blankEle.classList.add(`budgie-flex-item-${budgie.budgieId}--blank`);\r\n      budgie.budgieContainer.appendChild(blankEle);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Creates a filler element with the class based on the number of left over budgie elements\r\n   * @param budgie\r\n   * @returns {Element}\r\n   */\r\n  createBudgieFillerElement : (budgie) => {\r\n    let filler = document.createElement('div');\r\n    filler.classList.add(`budgie-flex-item-${budgie.budgieId}--filler`);\r\n    filler.classList.add(`budgie-flex-item-${budgie.budgieId}--filler-${budgie.numberLeftWithOddEnding()}`);\r\n    return filler;\r\n  },\r\n\r\n  /**\r\n   * Creates a budgie element, and returns that element for use.\r\n   * @param budgie\r\n   * @param item\r\n   * @param itemIndex\r\n   * @returns {Element}\r\n   */\r\n  createBudgieElement : (budgie, item, itemIndex) => {\r\n    let element = document.createElement('div');\r\n\r\n    element.classList.add('budgie-flex-item');\r\n    element.classList.add(`budgie-flex-item-${budgie.budgieId}`);\r\n    element.classList.add(`budgie-${budgie.budgieId}-${itemIndex}`);\r\n\r\n    const innerDiv = BudgieDom.convertItemToElement(item)\r\n\r\n    element.innerHTML = innerDiv.outerHTML;\r\n\r\n    return element;\r\n  },\r\n\r\n  /**\r\n   * Will convert an item to a element so that it can be used in a budgie element\r\n   * @param item\r\n   * @returns {*}\r\n   */\r\n  convertItemToElement : (item) => {\r\n    // If the item is a dom element, then return it\r\n    if(typeof item === 'object' ) return item;\r\n\r\n    if(typeof item !== 'string') throw new Error('Only DOM Elements and strings are accepted as budgie items')\r\n\r\n    let extension = item.match(/\\.{1}\\w*$/)\r\n    if(extension) {\r\n      extension = extension[0].substr(1)\r\n    }\r\n\r\n    let element;\r\n    if(imageExtensions.includes(extension)) {\r\n      element = document.createElement('img');\r\n      element.src = item\r\n    } else if(videoExtensions.includes(extension)) {\r\n      element = document.createElement('video');\r\n      element.src = item\r\n    }\r\n\r\n    if(!element) throw new Error(`Extension of: ${extension} is not supported.`)\r\n\r\n    return element;\r\n  },\r\n\r\n  /**\r\n   * Returns the height and width measurements of the first element matching the given selector\r\n   * @param selector\r\n   * @returns {{}}\r\n   */\r\n  measureElementWidthAndHeight : (selector) => {\r\n    let measure = {};\r\n    const elementComputedStyle = window.getComputedStyle(document.querySelector(selector));\r\n    measure.height = parseFloat(elementComputedStyle.height);\r\n    measure.width = parseFloat(elementComputedStyle.width);\r\n    return measure;\r\n  },\r\n});;'use strict';\r\n\r\nclass Budgie {\r\n  /**\r\n   *\r\n   * @param items\r\n   * @param selector\r\n   * @param options\r\n   */\r\n  constructor(items, selector, options = {}) {\r\n    // Set the parentContainer to be accessable\r\n    this.parentContainer = document.querySelector(selector);\r\n    // Apply user options over the default options\r\n    this.options = Object.assign(this.constructor.defaultOptions(), options);\r\n    // Sets a random ID to allow for multiple budgies at once\r\n    this.budgieId = Math.floor((1 + Math.random()) * 0x10000);\r\n    // save a reference to the items array\r\n    this.items = items;\r\n\r\n    // Provide methods for manipulating the items array\r\n    var self = this;\r\n    this.items.pop = function(){\r\n      let a = Array.prototype.pop.apply(self.items, arguments);\r\n      self.popItem();\r\n      return a;\r\n    };\r\n    this.items.push = function(){\r\n      let a = Array.prototype.push.apply(self.items, arguments);\r\n      self.pushItem();\r\n      return a;\r\n    };\r\n    this.items.shift = function(){\r\n      let a = Array.prototype.shift.apply(self.items, arguments);\r\n      self.shiftItem();\r\n      return a;\r\n    };\r\n    this.items.unshift = function(){\r\n      let a = Array.prototype.unshift.apply(self.items, arguments);\r\n      self.unshiftItem();\r\n      return a;\r\n    };\r\n    this.items.splice = function(){\r\n      let a = Array.prototype.splice.apply(self.items, arguments);\r\n      self.updateAllElements();\r\n      return a;\r\n    };\r\n\r\n    // Gets the budgie scroller setup for use\r\n    this.budgieSetup();\r\n\r\n    // Will start the scrolling animation if autoStart is true\r\n    if (this.options.autoStart) {\r\n      this.budgieAnimate();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Default budgie options are defined here\r\n   * @returns {{numberHigh: number, numberWide: number, direction: string, secondsOnPage: number, inverted: boolean, autoScroll: boolean, fps: number, infiniteScroll: boolean, autoStart: boolean}}\r\n   */\r\n  static defaultOptions() {\r\n    return {\r\n      'numberHigh': 1,\r\n      'numberWide': 1,\r\n      'direction': 'vertical',\r\n      'secondsOnPage': 1.0,\r\n      'inverted': false,\r\n      'autoScroll': true,\r\n      'fps': 60,\r\n      'infiniteScroll': true,\r\n      'autoStart': true\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Will return true if budgie has vertical direction\r\n   * @returns {boolean}\r\n   */\r\n  isVertical() {\r\n    return this.options.direction === 'vertical';\r\n  }\r\n\r\n  /**\r\n   * Will return true if budgie has horizontal direction\r\n   * @returns {boolean}\r\n   */\r\n  isHorizontal() {\r\n    return this.options.direction === 'horizontal';\r\n  }\r\n\r\n  /**\r\n   * Will be true if the last column/row is not completely full\r\n   * @returns {boolean}\r\n   */\r\n  hasOddEnding() {\r\n    return this.numberLeftWithOddEnding() > 0;\r\n  }\r\n\r\n  /**\r\n   * Will return the number of elements that can fit in the budgie container\r\n   * @returns {number}\r\n   */\r\n  elementsOnScreen(){\r\n    return parseInt(this.options.numberHigh) * parseInt(this.options.numberWide);\r\n  }\r\n\r\n  /**\r\n   * Will be true if all budgie elements fit into container without scrolling\r\n   * @returns {boolean}\r\n   */\r\n  fitsInContainer() {\r\n    return this.items.length <= this.elementsOnScreen();\r\n  }\r\n\r\n  /**\r\n   * Will return the number of elements left on the last line.\r\n   * Will return 0 if the last line is full\r\n   * @returns {number}\r\n   */\r\n  numberLeftWithOddEnding(){\r\n    let numberAcross = this.isHorizontal() ? this.options.numberHigh : this.options.numberWide;\r\n    return (this.items.length % numberAcross);\r\n  }\r\n\r\n  /**\r\n   * Clears out measurements so that they will be remeasured\r\n   */\r\n  clearMeasurements(){\r\n    this.budgieElementMeasurement = undefined;\r\n    this.scrollContainerSize = undefined;\r\n  }\r\n\r\n  /**\r\n   * Will return the scroll property ('scrollTop' or 'scrollLeft') of the budgie instance\r\n   * @returns {String} The scroll property ('scrollTop' or 'scrollLeft') of the budgie instance\r\n   */\r\n  scrollProperty() {\r\n    if (this.isVertical()) {\r\n      return 'scrollTop';\r\n    } else if (this.isHorizontal()) {\r\n      return 'scrollLeft';\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the height and width measurements of the elements associated with the given selector\r\n   * @param selector\r\n   * @returns {{}} The height and width measurements of the element associated with the given selector.\r\n   */\r\n  elementMeasurement(selector){\r\n    let measure = {};\r\n    measure.height = parseFloat(window.getComputedStyle(document.getElementsByClassName(selector)[0]).height);\r\n    measure.width = parseFloat(window.getComputedStyle(document.getElementsByClassName(selector)[0]).width);\r\n    return measure;\r\n  }\r\n\r\n  /**\r\n   * Returns the size of the scroll container for this budgie instance\r\n   * @returns {number} Measurement in px.\r\n   */\r\n  scrollSizeMeasurement(){\r\n    switch(this.options.direction){\r\n      case 'vertical':\r\n        return BudgieDom.measureElementWidthAndHeight(`.budgie-flex-item-${this.budgieId}`).height * (Math.ceil(this.items.length/this.options.numberWide));\r\n        break;\r\n      case 'horizontal':\r\n        return BudgieDom.measureElementWidthAndHeight(`.budgie-flex-item-${this.budgieId}`).width * (Math.ceil(this.items.length/this.options.numberHigh));\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the budgie instance based on array changes\r\n   */\r\n  pushItem(){\r\n    this.addLastItem();\r\n    this.updateBeginningAndEndingItems('add');\r\n    this.clearMeasurements();\r\n    this.budgieAnimate();\r\n  }\r\n\r\n  /**\r\n   * Updates the budgie instance based on array changes\r\n   */\r\n  popItem(){\r\n    this.removeLastItem();\r\n    this.updateBeginningAndEndingItems('remove');\r\n    this.clearMeasurements();\r\n    this.budgieAnimate();\r\n  }\r\n\r\n  /**\r\n   * Updates the budgie instance based on array changes\r\n   */\r\n  shiftItem(){\r\n    this.updateExistingItems()\r\n    this.removeLastItem();\r\n    this.updateBeginningAndEndingItems('remove');\r\n    this.clearMeasurements();\r\n    this.budgieAnimate();\r\n  }\r\n\r\n  /**\r\n   * Updates the budgie instance based on array changes\r\n   */\r\n  unshiftItem(){\r\n    this.updateExistingItems()\r\n    this.addLastItem();\r\n    this.updateBeginningAndEndingItems('add');\r\n    this.clearMeasurements();\r\n    this.budgieAnimate();\r\n  }\r\n\r\n  /**\r\n   * Updates the budgie instance based on array changes\r\n   */\r\n  updateAllElements(){\r\n    let elementCount = document.querySelectorAll(`.budgie-flex-item-${this.budgieId}:not(.budgie-flex-item-${this.budgieId}--duplicate)`).length\r\n    if(this.items.length > elementCount){\r\n      for(let i = elementCount; i < this.items.length; i++){\r\n        this.addLastItem(i, i - 1);\r\n      }\r\n      this.updateBeginningAndEndingItems('add', true);\r\n    } else if (this.items.length < elementCount) {\r\n      for(let i = elementCount; i > this.items.length; i--){\r\n        this.removeLastItem(i-1);\r\n      }\r\n      this.updateBeginningAndEndingItems('remove', true);\r\n    }\r\n    this.updateExistingItems();\r\n    this.clearMeasurements();\r\n    this.budgieAnimate();\r\n  }\r\n\r\n  /**\r\n   * Prepends duplicate items equal to the last row/column of items\r\n   */\r\n  prependStartingItems(){\r\n    let elementsOnScreen = this.elementsOnScreen();\r\n    // Store a list of the non duplicated elements\r\n    const realElements = Array.from(document.querySelectorAll(`.budgie-flex-item-${this.budgieId}:not(.budgie-flex-item-${this.budgieId}--duplicate)`));\r\n\r\n    // If the number of elements is greater than the number that fit in the given area\r\n    if(!this.fitsInContainer()){\r\n      // Prepends duplicate items equal to the number of elementsOnScreen\r\n\r\n      if(this.hasOddEnding()) {\r\n\r\n        // The column or row is NOT full, fillers are needed\r\n        // Add a filler item so that odd ending lists will have a centered ending\r\n        this.budgieContainer.insertAdjacentElement('afterbegin', BudgieDom.createBudgieFillerElement(this));\r\n\r\n        // Add the duplicated elements\r\n        realElements.slice(\r\n          realElements.length - this.numberLeftWithOddEnding(),\r\n          realElements.length\r\n        )\r\n          .reverse()\r\n          .forEach((element) => {\r\n            let ele = element.cloneNode(true);\r\n            ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate`);\r\n            this.budgieContainer.insertAdjacentElement('afterbegin', ele);\r\n          });\r\n\r\n        // Add a filler item so that odd ending lists will have a centered ending\r\n        this.budgieContainer.insertAdjacentElement('afterbegin', BudgieDom.createBudgieFillerElement(this));\r\n      } else {\r\n        // The column or row is full, not fillers needed\r\n        let elementsToDupe = this.isHorizontal() ? this.options.numberHigh : this.options.numberWide;\r\n\r\n        // Add the duplicated elements\r\n        realElements.slice(\r\n          realElements.length - elementsToDupe,\r\n          realElements.length\r\n        )\r\n          .reverse()\r\n          .forEach((element) => {\r\n            let ele = element.cloneNode(true);\r\n            ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate`);\r\n            this.budgieContainer.insertAdjacentElement('afterbegin', ele);\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Appends duplicate items equal to the number that fit in the view (numberHigh * numberWide)\r\n   */\r\n  appendEndingItems(){\r\n    let elementsOnScreen = this.elementsOnScreen();\r\n    // Store a list of the non duplicated elements\r\n    const realElements = Array.from(document.querySelectorAll(`.budgie-flex-item-${this.budgieId}:not(.budgie-flex-item-${this.budgieId}--duplicate)`));\r\n\r\n    // If the number of elements is greater than the number that fit in the given area\r\n    if(!this.fitsInContainer()){\r\n      // Appends duplicate items equal to the number of elementsOnScreen\r\n      realElements.slice(\r\n        0,\r\n        elementsOnScreen\r\n      )\r\n        .forEach((element) => {\r\n          let ele = element.cloneNode(true);\r\n          ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate`);\r\n          ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate-ending`);\r\n          this.budgieContainer.insertAdjacentElement('beforeend', ele);\r\n        });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Removes an item from the end of the budgie list\r\n   * @param eleIndex\r\n   */\r\n  removeLastItem(eleIndex = this.items.length){\r\n    let elements = document.getElementsByClassName(`budgie-${this.budgieId}-${eleIndex}`);\r\n    Array.from(elements).forEach(element => {\r\n      element.parentNode.removeChild(element);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Adds an item to the end of the budgie list\r\n   * @param itemIndex\r\n   * @param eleIndex\r\n   */\r\n  addLastItem(itemIndex = this.items.length - 1, eleIndex = this.items.length - 2){\r\n    // eleIndex; subtract 2 to account for using length not index, and also to get the last element before the push\r\n    let elements = document.getElementsByClassName(`budgie-${this.budgieId}-${eleIndex}`);\r\n    if(!elements.length > 0){\r\n      elements = document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--blank`)\r\n    }\r\n\r\n    let newElement = BudgieDom.createBudgieElement(this, this.items[itemIndex], itemIndex);\r\n    // Insert at the end of the main list\r\n    // We use index of 1, because the last few items are duplicated at the top\r\n    let index = 0\r\n    if(elements.length > 1) { index = 1 }\r\n    elements[index].parentNode.insertBefore(newElement, elements[index].nextSibling);\r\n  }\r\n\r\n  /**\r\n   * Updates the existing items by replacing their html\r\n   */\r\n  updateExistingItems(){\r\n    this.items.forEach((item, index) => {\r\n      Array.from(document.getElementsByClassName(`budgie-${this.budgieId}-${index}`)).forEach((element) => {\r\n        // If the element has changed then update, otherwise do nothing\r\n\r\n        let newElement = BudgieDom.createBudgieElement(this, item, index);\r\n        // update the element if it does not currently match\r\n        if (element.innerHTML !== newElement.innerHTML) {\r\n          element.innerHTML = newElement.innerHTML;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Calls both updateListStart and updateListEnding in the correct order\r\n   * @param method\r\n   */\r\n  updateBeginningAndEndingItems(method) {\r\n    this.updateListStart();\r\n    this.updateListEnding(method);\r\n  }\r\n\r\n  /**\r\n   * Updates the duplicated elements that come before the real budgie elements\r\n   */\r\n  updateListStart() {\r\n    let numberAtTop;\r\n    if (this.hasOddEnding()) {\r\n      numberAtTop = this.numberLeftWithOddEnding();\r\n    } else {\r\n      numberAtTop = this.isHorizontal() ? this.options.numberHigh : this.options.numberWide;\r\n    }\r\n\r\n    let realElements = Array.from(document.querySelectorAll(`.budgie-flex-item-${this.budgieId}:not(.budgie-flex-item-${this.budgieId}--duplicate)`));\r\n\r\n    // Trim the number of elements across one row to get rid of the bottom dupes\r\n    let dupedElements = Array.from(document.querySelectorAll(`.budgie-flex-item-${this.budgieId}.budgie-flex-item-${this.budgieId}--duplicate`));\r\n    let topOfDupedElements = dupedElements.slice(0, dupedElements.length - this.elementsOnScreen());\r\n\r\n    // These elements should become the new duped top row\r\n    let lastRowOfRealElements = realElements.slice(realElements.length - numberAtTop, realElements.length);\r\n\r\n    const firstRealElement = realElements[0];\r\n\r\n    // If there are more existing elements than we need, then trim that list\r\n    if(topOfDupedElements.length > lastRowOfRealElements.length) {\r\n      let numberOff = topOfDupedElements.length - lastRowOfRealElements.length\r\n\r\n      for(let i = 0; i < numberOff; i += 1) {\r\n        topOfDupedElements[i].parentNode.removeChild(topOfDupedElements[i]);\r\n        topOfDupedElements.shift();\r\n      }\r\n    }\r\n\r\n    // Exit early if the list is not long enough to scroll\r\n    if(this.fitsInContainer()){ return; }\r\n\r\n    // Update the existing elements, and add new if needed\r\n    lastRowOfRealElements.forEach((element, index) => {\r\n      let ele = element.cloneNode(true);\r\n      ele.classList.add(`budgie-flex-item-${this.budgieId}--duplicate`);\r\n      if(topOfDupedElements[index]){\r\n        topOfDupedElements[index].outerHTML = ele.outerHTML\r\n      } else {\r\n        firstRealElement.parentNode.insertBefore(ele, firstRealElement);\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Updates the Duplicated elements that are on the end of the list.\r\n   * @param method\r\n   * @param redraw\r\n   */\r\n  updateListEnding(method, redraw=false){\r\n    let operator;\r\n    if(method === 'remove'){\r\n      operator = 1\r\n    } else if(method === 'add'){\r\n      // this covers 'add'\r\n      operator = -1\r\n    } else {\r\n      throw new Error(\"Only 'add' and 'remove' are supported arguments\")\r\n    }\r\n\r\n    if(redraw){\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`)).forEach(element =>\r\n        element.parentNode.removeChild(element));\r\n    }\r\n\r\n    if(this.hasOddEnding()){\r\n      if(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`).length === 0) {\r\n        let lastElements = Array.from(document.getElementsByClassName(`budgie-${this.budgieId}-${this.items.length - 1}`));\r\n        let firstElements = Array.from(document.getElementsByClassName(`budgie-${this.budgieId}-${this.items.length - this.numberLeftWithOddEnding()}`));\r\n        // Put fill around all elements that need it. At the top, and the bottom.\r\n        lastElements.forEach(lastElement => {\r\n          lastElement.parentNode.insertBefore(BudgieDom.createBudgieFillerElement(this), lastElement.nextSibling);\r\n        })\r\n        firstElements.forEach(firstElement => {\r\n          firstElement.parentNode.insertBefore(BudgieDom.createBudgieFillerElement(this), firstElement);\r\n        })\r\n      } else {\r\n        Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`)).forEach((element) => {\r\n          element.classList.remove(`budgie-flex-item-${this.budgieId}--filler-${this.numberLeftWithOddEnding() + operator}`);\r\n          element.classList.add(`budgie-flex-item-${this.budgieId}--filler-${this.numberLeftWithOddEnding()}`);\r\n        });\r\n      }\r\n    } else {\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--filler`)).forEach(element =>\r\n        element.parentNode.removeChild(element));\r\n    }\r\n\r\n    // If all elements fit in the container and scrolling is not needed\r\n    if(this.fitsInContainer()) {\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--duplicate`)).forEach(element =>\r\n        element.parentNode.removeChild(element));\r\n\r\n      // Append an extra div so that new items can be added\r\n      if(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--blank`).length === 0){\r\n        let blankEle = document.createElement('div');\r\n        blankEle.classList.add(`budgie-flex-item-${this.budgieId}--blank`);\r\n        this.budgieContainer.appendChild(blankEle);\r\n      }\r\n    }\r\n\r\n    if(!this.fitsInContainer() && document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--duplicate-ending`).length === 0){\r\n      this.appendEndingItems();\r\n\r\n      Array.from(document.getElementsByClassName(`budgie-flex-item-${this.budgieId}--blank`)).forEach(blankEle =>\r\n        blankEle.parentNode.removeChild(blankEle));\r\n    }\r\n  }\r\n\r\n  /**\r\n  * Will reset the budgie elements scrollProperty if it hits a wrap point.\r\n  * @param {string} scrollDirection - The scroll direction of the given budgie instance.\r\n  *   can be 'scrollTop' or 'scrollLeft'\r\n  * @returns undefined\r\n  * */\r\n  onScroll(scrollDirection) {\r\n    if(!this.scrollContainerSize) {\r\n      this.scrollContainerSize = this.scrollSizeMeasurement();\r\n    }\r\n\r\n    if(!this.budgieElementMeasurement) {\r\n      let budgieElement = BudgieDom.measureElementWidthAndHeight(`.budgie-flex-item-${this.budgieId}`);\r\n      this.budgieElementMeasurement = Math.floor(this.isHorizontal() ? budgieElement.width : budgieElement.height);\r\n    }\r\n\r\n    // console.log('scroll at: ' + this.parentContainer[scrollDirection], 'container size: ' + this.scrollContainerSize, 'element size: ' + this.budgieElementMeasurement)\r\n\r\n    if((this.parentContainer[scrollDirection] >= this.scrollContainerSize + this.budgieElementMeasurement)) {\r\n      this.parentContainer[scrollDirection] = this.budgieElementMeasurement;\r\n    } else if((this.parentContainer[scrollDirection] <= 0 )) {\r\n      this.parentContainer[scrollDirection] = this.scrollContainerSize;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sets up the budgie scroller to be ready for use\r\n   */\r\n  budgieSetup() {\r\n    this.budgieContainer = BudgieDom.setupBudgieContainer(this);\r\n    BudgieDom.setupBudgieCSS(this);\r\n    BudgieDom.insertBudgieElements(this);\r\n    // Only append extra items, and bind the scroll event if this is infinite scroll.\r\n    if(this.options.infiniteScroll){\r\n      this.appendEndingItems();\r\n      this.prependStartingItems();\r\n      BudgieDom.setupBudgieScrollProperties(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Controls the scrolling animation when budgie is set to autoscroll\r\n   */\r\n  budgieAnimate() {\r\n    // Will not animate if autoScroll is off\r\n    if(!this.options.autoScroll) { return }\r\n\r\n    // How many times the animation should run per second\r\n    const fps =  this.options.fps;\r\n\r\n    // Will be either scrollTop or scrollLeft\r\n    let scrollDirection = this.scrollProperty();\r\n\r\n    // The current value of the scrollDirection\r\n    let currentScroll;\r\n\r\n    // The measurement of the budgie container\r\n    let budgieContainerMeasurements =\r\n      BudgieDom.measureElementWidthAndHeight(`.budgie-container-${this.budgieId}`);\r\n\r\n    // The axis measurement based on the direction\r\n    let viewMeasure = (this.isHorizontal()) ?\r\n      budgieContainerMeasurements.width : budgieContainerMeasurements.height;\r\n\r\n    // Calculate scrollspeed, this will dictate how far the budgie scroller moves with each frame\r\n    // This must be a whole number > 0 so we round up.\r\n    let scrollSpeed = Math.ceil(viewMeasure / this.options.secondsOnPage / fps);\r\n\r\n    // Clear out any existing animations, which allows for use of this on redraws\r\n    this.stopAnimate();\r\n\r\n    // Only animate if the elements do not all fit in the container\r\n    if(!this.fitsInContainer()){\r\n      this.interval = setInterval(() => {\r\n        // Get the current value of the scroll\r\n        currentScroll = this.budgieContainer.parentElement[scrollDirection];\r\n\r\n        // Add or subtract from the current value based on inverted or not\r\n        this.options.inverted ? (currentScroll += scrollSpeed) : (currentScroll -= scrollSpeed);\r\n\r\n        // Apply the new scroll value\r\n        this.budgieContainer.parentElement[scrollDirection] = currentScroll;\r\n      }, 1000/fps);\r\n    } else {\r\n      // Set the scroll property to 0 if all elements fit in the container\r\n      // This is used when animate is called on a redraw\r\n      this.budgieContainer.parentElement[scrollDirection] = 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Will toggle the inverted property of the Budgie element\r\n   */\r\n  changeInversion(){\r\n    this.options.inverted = !this.options.inverted;\r\n  }\r\n\r\n  /**\r\n   * Clears the interval that controls the scrolling\r\n   * @returns {boolean}\r\n   */\r\n  stopAnimate() {\r\n    if(!this.interval) return false;\r\n    window.clearInterval(this.interval);\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Removes the Budgie element from the DOM\r\n   */\r\n  removeBudgie() {\r\n    this.stopAnimate();\r\n    this.budgieContainer.parentElement.classList.remove(`budgie-flex-container-parent-${this.budgieId}`);\r\n    this.budgieContainer.parentElement.removeChild(this.budgieContainer);\r\n  }\r\n}\r\n\r\n// Set Budgie as a global variable for use\r\nif( typeof global !== 'undefined')\r\n  global.Budgie = Budgie;\r\n"]}